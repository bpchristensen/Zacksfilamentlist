<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Filament Tiers v1.6</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
      cursor: pointer;
    }
    th {
      background-color: #333;
      color: white;
    }
    td:hover {
      background-color: #f0f0f0;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 10;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.5);
    }

    .modal-content {
      background-color: #fff;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 90%;
      max-width: 400px;
      border-radius: 8px;
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 22px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover {
      color: black;
    }

    @media (max-width: 600px) {
      th, td {
        font-size: 14px;
        padding: 6px;
      }
      .modal-content {
        width: 95%;
      }
    }
  </style>
</head>
<body>

<h2>Filament Tiers — Version 1.6</h2>
<p id="visitor-counter">Loading visitor count...</p>

<table id="filament-table">
  <thead>
    <tr>
      <th>Tier</th>
      <th colspan="20">Filament Types (click for details)</th>
    </tr>
  </thead>
  <tbody>
    <!-- Tiers and clickable cells will be inserted by JS -->
  </tbody>
</table>

<!-- Modal Template -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="hideModal()">&times;</span>
    <h3 id="modal-title"></h3>
    <p id="modal-text"></p>
  </div>
</div>

<script>
const data = {
  "S": [
    { name: "PCTG", desc: "Like PETG but stronger, easier to print, more impact resistant, and better layer adhesion. Nearly a perfect filament." },
    { name: "Tough PLA", desc: "PLA blended with PBT. Impact-resistant, resists shattering and heat, great for light-duty functional parts." },
    { name: "CF PETG", desc: "Less warping than regular PETG, strong and stiff, ideal for functional prototypes." },
    { name: "CF PLA", desc: "Matte finish, crisp detail, stiffer but more brittle than standard PLA. Requires hardened nozzle." },
    { name: "High-Speed PLA", desc: "Lower melting temp, faster flow rate for ultra-quick prints. May be heat sensitive." },
    { name: "Glass-Filled Nylon", desc: "Very rigid, abrasion- and heat-resistant, often used as a substitute for machined aluminum. Needs high-end printer." },
    { name: "TPU (High Durometer)", desc: "Extremely tough and flexible, nearly indestructible, perfect for combat bots and rugged applications." }
  ],
  "A": [
    { name: "ULTEM 1010", desc: "Extremely tough, stable, and heat-resistant. Great across all metrics but very hard to print." },
    { name: "ASA", desc: "Weather-resistant, UV-stable, tough like ABS but easier to print and with a matte finish." },
    { name: "CF PC", desc: "Very stiff and strong; good for high-load parts. Requires powerful extruder and high temps." },
    { name: "PEKK", desc: "Super strong, chemically resistant, easier to print than PEEK." },
    { name: "PC-PBT", desc: "Easy-to-print polycarbonate blend, strong and resilient even in cold weather." },
    { name: "SEBS", desc: "Stretchy and flexible, smooth to print. A modern alternative to TPE with better results." },
    { name: "PETG", desc: "General-purpose filament; tougher than PLA, transparent options available, but tricky with overhangs." }
  ],
  "B": [
    { name: "PSU", desc: "Thermally and chemically stable. Can be sterilized. Good for lab or medical use." },
    { name: "PA6 Nylon", desc: "Strong and flexible. Hard to print and very hygroscopic." },
    { name: "PA12 Nylon", desc: "Hotter and stiffer than PA6. Best for precision rigid parts." },
    { name: "CF Nylon", desc: "Stiffens PA6 and reduces warping. Still requires high-end hardware." },
    { name: "GF-PP", desc: "Tough, lightweight, difficult to print. Often used industrially." },
    { name: "ABS", desc: "Strong, tough, vapor-smoothable. Warps heavily and off-gasses." },
    { name: "HIPS", desc: "Lightweight, slightly flexible, useful as support material with ASA and ABS." },
    { name: "CF PET", desc: "A stiffer, more precise version of PETG, with better surface quality." },
    { name: "PET", desc: "Tougher and shinier than PETG. High temp and hard to print." },
    { name: "Wood PLA", desc: "Contains wood particles. Visually convincing but weak and moisture-sensitive." },
    { name: "Matte PLA", desc: "Plant-fiber composite, paintable and springy, but prone to jamming." },
    { name: "Silk PLA", desc: "Shiny, decorative filament with poor strength. Used for visual models." },
    { name: "PLA", desc: "Very easy to print, stiff, but brittle and not heat-resistant." }
  ],
  "C": [
    { name: "PEEK", desc: "Strongest printable plastic, but extremely hard to print and very expensive." },
    { name: "CF Superpolymers", desc: "Composite versions of ultra-strong plastics. Require exotic hardware." },
    { name: "PPS", desc: "Chemically resistant up to 200°C. Expensive but practical for lab use." },
    { name: "PMMA", desc: "Extremely clear, UV resistant, brittle and difficult to print." },
    { name: "OBC", desc: "Flexible, tough, less warping than PP, but bed adhesion is poor." },
    { name: "Nylon-PETG Alloys", desc: "Attempts to combine toughness of nylon and printability of PETG. Ends up with both weaknesses." },
    { name: "TPU 88A", desc: "Very flexible, but hard to print and not breathable." }
  ],
  "F": [
    { name: "PVDF", desc: "Incredibly chemical-resistant, but releases toxic gas if overheated." },
    { name: "POM", desc: "Very slippery and machinable, but terrible bed adhesion and toxic fumes." },
    { name: "PP", desc: "Lightweight and tough, but impossible to adhere to the bed." },
    { name: "HDPE", desc: "Warps aggressively, doesn’t stick to bed, poor layer bonding." },
    { name: "TPI", desc: "Highest heat resistance, impossible to print on hobby machines." },
    { name: "ULTEM 9085", desc: "Inferior to 1010 in every way, still expensive." },
    { name: "Metal PLA", desc: "Contains real metal powder, but weak, brittle, and very costly." },
    { name: "TPE", desc: "Very stretchy, but poor print quality and hard to control." }
  ]
};

function createTable() {
  const tbody = document.querySelector("#filament-table tbody");
  for (const tier in data) {
    const tr = document.createElement("tr");
    const tdTier = document.createElement("td");
    tdTier.innerHTML = `<strong>${tier}</strong>`;
    tr.appendChild(tdTier);
    data[tier].forEach((item) => {
      const td = document.createElement("td");
      td.textContent = item.name;
      td.onclick = () => showModal(item.name, item.desc);
      tr.appendChild(td);
    });
    tbody.appendChild(tr);
  }
}

function showModal(title, text) {
  document.getElementById("modal-title").textContent = title;
  document.getElementById("modal-text").textContent = text;
  document.getElementById("modal").style.display = "block";

  window.onclick = function(event) {
    const modal = document.getElementById("modal");
    if (event.target === modal) {
      modal.style.display = "none";
    }
  };
}

function hideModal() {
  document.getElementById("modal").style.display = "none";
}

createTable();
</script>

<script>
  fetch('https://api.countapi.xyz/hit/bpchristensen.github.io/Zacksfilamentlist/visits')
    .then(res => res.json())
    .then(res => {
      document.getElementById('visitor-counter').textContent = `Visitor count: ${res.value}`;
    })
    .catch(() => {
      document.getElementById('visitor-counter').textContent = 'Visitor count unavailable.';
    });
</script>
</body>
</html>
